# AI 和声功能说明

## 🎵 这个功能是干什么的？

**简单来说**：你唱歌，AI 自动给你配和声伴奏。

**具体流程**：
1. 你对着麦克风哼唱（比如哼一段旋律）
2. AI 监听你唱的旋律
3. 每隔 4 秒，AI 自动生成和声音轨
4. 你听到的声音 = 你的声音 + AI 的和声

**就像**：你在 KTV 唱歌，AI 是你的和声歌手。

---

## 🚀 如何测试

### 快速测试（验证 AI 是否工作）

```bash
# 1. 启动服务器
npx serve . -p 3000

# 2. 打开浏览器
http://localhost:3000/test-ai-harmonizer.html

# 3. 依次点击 4 个按钮，看是否都成功
```

**如果所有步骤都显示 ✓ = AI 功能可用**

---

## 🔧 技术细节（给老师看）

- **AI 模型**: Google Magenta MusicRNN
- **模型大小**: 2.5 MB
- **训练数据**: 170,000 首 MIDI 歌曲
- **运行方式**: 完全在浏览器中，不需要服务器
- **延迟**: < 1 秒（生成和声）

---

## 📂 相关文件

- `js/features/ai-harmonizer.js` - AI 和声核心代码
- `test-ai-harmonizer.html` - 测试页面
- `docs/` - 详细文档

---

## ❓ 常见问题

**Q: 需要联网吗？**
A: 第一次需要（下载模型），之后浏览器会缓存。

**Q: 为什么有时候不生成和声？**
A: 需要至少唱 5 个清晰的音符，并且每 4 秒才生成一次。

**Q: 和声听起来奇怪？**
A: AI 有一定随机性，每次生成的和声都不完全一样。
